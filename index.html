<!DOCTYPE html>
<html lang="en">

<head>
</head>

<body onload="onloaded()">
    <div id="before">
        Branding content goes here.<br />
        This is on the customer's own web site.<br />
        The form is an embedded iframe that's coming from ININ.<br />
    </div>
    <div id="screenshareContainer"></div>
    <div id="after">
        Content of customer's website below iframe/form<br />
        Content of customer's website below iframe/form<br />
        Content of customer's website below iframe/form<br />
    </div>


    <script src="https://apps.mypurecloud.com/webchat/jsapi-v1.js" type="text/javascript"></script>

    <script type="text/javascript">

        var config = {
            "webchatAppUrl": "https://apps.mypurecloud.ie/webchat",
            "webchatServiceUrl": "https://realtime.mypurecloud.ie:443",
            "orgId": "5106",
            "orgGuid": "fb868d0f-b35e-4e59-a18c-ff74e8e0e6a9",
            "orgName": "indra",
            "queueName": "Demo - Queue Encuesta",
            // CSS class if widget is rendered as frame
            "cssClass": "screenshare-frame",

            // Additional CSS properties if widget is rendered as an iframe.
            // These properties apply to the iframe itself, not to its content.
            "css": {
                "width": "480px",
                "height": "282px",
                "border": "none"
            },

            // The URL of a CSS file to apply to the content of the iframe.
            "contentCssUrl": "screenshare.css",

            //Some customers may use an external application and browser support will not prohibit the initiation of screen share in that case
            "standAloneApplication": false,

            "webchatDeploymentKey": "08b176c6-e521-4d85-9534-ebf353383d31"

        };

        function onloaded() {
            ININ.screenshare.create(config, function (err, screenshare) {
                if (err) {
                    // You should change this block to properly handle errors.
                    console.error(err);
                    if (err.name === 'UNSUPPORTED_BROWSER') {
                        // Redirect to instructions for unsupported browser, or handle appropriately
                        alert('Sorry, either your browser is not supported, or the page is not being served over TLS (HTTPS).');
                        return;
                    }
                    alert('An error occurred launching the screen share widget. See console for details');
                }

                screenshare.renderScreenShareForm({
                    containerEl: 'screenshareContainer'
                });
            });
        }
    </script>
</body>

</html>
