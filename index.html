<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Genesys Cloud Web Chat</title>
</head>

<body>
    <form name="form" id="chatForm">

        <img src="data:image/png;base64,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"
            alt="INDRA" style="width: 150px; height: 100px; margin-left: 155px;">

        <table class="webchat-config">
            <tbody>
                <tr>
                    <th>Nombre:</th>
                    <td><input type="text" name="nombre" id="first-name" placeholder="Nombre" /></td>
                </tr>
                <tr>
                    <th>Apellido:</th>
                    <td><input type="text" name="apellido" id="last-name" placeholder="Apellido" /></td>
                </tr>
                <tr>
                    <th>Correo Electronico:</th>
                    <td><input type="email" name="correo" id="agent-email" placeholder="Correo" /></td>
                </tr>
            </tbody>
        </table>
        <button type="button" id="chat-button"
            style="margin-top: 10px; margin-left: 235px;">Iniciar Chat</button>

    </form>


    <div id="chat-container" style="height:400px; width: 350px; margin: auto;"></div>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

    <script id="purecloud-webchat-js" type="text/javascript" src="https://apps.mypurecloud.ie/webchat/jsapi-v1.js"
        region="eu-west-1" org-guid="fb868d0f-b35e-4e59-a18c-ff74e8e0e6a9"
        deployment-key="14a7d778-069b-44b4-8701-6a087b1cf67c"></script>

    <script type="text/javascript">

        $(document).ready(function initializeChat() {
            let chatConfig = {
                "webchatAppUrl": "https://apps.mypurecloud.ie/webchat",
                "webchatServiceUrl": "https://realtime.mypurecloud.ie:443",
                "orgId": "5106",
                "orgGuid": "fb868d0f-b35e-4e59-a18c-ff74e8e0e6a9",
                "orgName": "indra",
                "queueName": "Demo - Queue Encuesta",
                "logLevel": "DEBUG",
                "locale": "en",

                "companyLogo": {
                    "width": 600,
                    "height": 149,
                    "url": "https://d3a63qt71m2kua.cloudfront.net/developer-tools/2280/assets/images/PC-blue-nomark.png"
                },
                "companyLogoSmall": {
                    "width": 25,
                    "height": 25,
                    "url": "https://d3a63qt71m2kua.cloudfront.net/developer-tools/2280/assets/images/companylogo.png"
                },
                "agentAvatar": {
                    "width": 462,
                    "height": 462,
                    "url": "https://d3a63qt71m2kua.cloudfront.net/developer-tools/2280/assets/images/agent.jpg"
                },
                "welcomeMessage": "Thanks for chatting using the dev tools chat page.",
                "cssClass": "webchat-frame",
                "css": {
                    "width": "100%",
                    "height": "100%"
                },

                // Deployment key for your cobrowse deployment from Genesys Cloud admin UI
                "cobrowseConfig": {
                    "deploymentKey": "X6v9ASTswSDjtBsbfz3TFYbm6itumstf",
                }
            };

            var chatButton = document.getElementById('chat-button');

            // Required if reconnects are enabled
            window.PURECLOUD_WEBCHAT_FRAME_CONFIG = {
                containerEl: 'chat-container'
            };

            ININ.webchat.create(chatConfig)
                .then(function (webchat) {
                    // Optionally use isAutoJoined if reconnects are enabled
                    if (webchat.isAutoJoined()) {
                        // Do something to disable chat button
                    } else {
                        chatButton.onclick = function () {

                                if (form.nombre.value == 0) {
                                    alert("El campo nombre esta vacio");
                                    form.nombre.value = "";
                                    form.nombre.focus();
                                    return false;
                                }
                                if (form.apellido.value == 0) {
                                    alert("El campo apellido esta vacio");
                                    form.apellido.value = "";
                                    form.apellido.focus();
                                    return false;
                                }
                                if (form.correo.value == 0) {
                                    alert("El campo correo esta vacio");
                                    form.correo.value = "";
                                    form.correo.focus();
                                    return false;
                                }
                            

                            var firstName = document.getElementById('first-name').value;
                            var lastName = document.getElementById('last-name').value;
                            var agentEmail = document.getElementById('agent-email').value;

                            // Use getConfig.setConfigProperty() for any web chat configuration property to dynamically set config values.
                            webchat.getConfig().setData({
                                "firstName": firstName,
                                "lastName": lastName,
                                "addressStreet": "",
                                "addressCity": "",
                                "addressPostalCode": "",
                                "addressState": "",
                                "phoneNumber": "",
                                "customField1Label": "",
                                "customField1": "",
                                "customField2Label": "",
                                "customField2": "",
                                "customField3Label": "",
                                "customField3": "",
                                "correo": agentEmail
                            });

                            //Use the updateConfig function to update batches of properties by passing in a partially filled chatConfig object
                            webchat.updateConfig({
                                locale: 'es',
                                welcomeMessage: 'Bienvenido',
                            });

                            // Alternatively, call webchat.renderPopup here. Note that reconnects do not apply to popup chat.
                            return webchat.renderFrame({
                                containerEl: 'chat-container'
                            });
                        };


                    }
                })
                .catch(function (err) {
                    console.log(err);
                });
        });

    </script>

</body>

</html>
